---
title: The Garden of Earthly Delights
layout:
---
<!-- index.html -->
<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- BEGIN Open Graph data -->
		<meta property="og:locale"		content="en_US">
		<meta property="og:title"		content="The Garden of Earthly Delights" />
		<meta property="og:type"		content="website" />
		<meta property="og:url"			content="http://earthlydelights.garden" />
		<meta property="og:description" content="« The Garden of Earthly Delights is the modern title given to a triptych painted by the Early Netherlandish master Hieronymus Bosch. It has been housed in the Museo del Prado in Madrid since 1939. Dating from between 1490 and 1510, when Bosch was between about 40 and 60 years old, it is his best-known and most ambitious complete work. » https://en.wikipedia.org/wiki/The_Garden_of_Earthly_Delights" />
		<meta property="og:site_name"	content="earthlydelights" />

		<meta property="og:image"			content="http://earthlydelights.garden/images/sample_center_bottom-600x340.png" />
		<meta property="og:image:url"		content="http://earthlydelights.garden/images/sample_center_bottom-600x340.png" />
		<meta property="og:image:type"		content="image/png" />
		<meta property="og:image:width"		content="600" />
		<meta property="og:image:height"	content="340" />

		<meta property="fb:admins" content="708154592"/>
		<meta property="fb:app_id" content="104250825478" />
		<!-- END Open Graph data -->

		<!-- http://hammerjs.github.io/tips/ -->
		<meta name="msapplication-tap-highlight" content="no" />

		<title>The Garden of Earthly Delights</title>
		<meta name="description" content="The Garden of Earthly Delights">

		<link rel="canonical" href="http://earthlydelights.garden/">
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">

		<!-- http://realfavicongenerator.net/ -->
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png?v=699bGdpX2B">
		<link rel="icon" type="image/png" href="/favicon-32x32.png?v=699bGdpX2B" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-96x96.png?v=699bGdpX2B" sizes="96x96">
		<link rel="icon" type="image/png" href="/favicon-16x16.png?v=699bGdpX2B" sizes="16x16">
		<link rel="manifest" href="/manifest.json?v=699bGdpX2B">
		<link rel="mask-icon" href="/safari-pinned-tab.svg?v=699bGdpX2B" color="#5bbad5">
		<link rel="shortcut icon" href="/favicon.ico?v=699bGdpX2B">
		<meta name="msapplication-TileColor" content="#000000">
		<meta name="theme-color" content="#ffffff">

		<style type="text/css">
			html {
				height: 100%;
				background-color: black;
			}
			body {
				height: 100%;
				background-color: transparent;
				color: white;

				font-size: 48px;

				position: relative;
				margin: 0;
				padding: 0;
				cursor: crosshair;
				overflow: hidden;
				// transition: background 2s ease-in-out; // commented out , because flickering, dommage
			}
			a {
				text-decoration:none;
			}
			.fa {
				color: rgba(255, 255, 255, .3);
				background-color: rgba(0, 0, 0, .3);
				margin: 5px 5px 5px 5px;
				padding: 5px 5px 5px 5px;
				cursor: pointer;
				border-radius: 8px;
				text-align: center;
			}
			.fa-spinner.fa-spin {
				background-color: transparent;
			}
			.fa.hover {
				color: rgba(255, 255, 255, .5);
				background-color: rgba(0, 0, 0, .5);
			}
			.fa:hover {
				color: rgba(255, 255, 255, .7);
				background-color: rgba(0, 0, 0, .7);
			}
			.top_right {
				position: absolute;
				top: 0;
				right: 0;
			}
			.top_left {
				position: absolute;
				top: 0;
				left: 0;
			}
			.middle_middle {
				position: absolute;
				top: 50%;
				left: 50%;
				display:block;
			}
			.bottom_right {
				position: absolute;
				bottom: 0;
				right: 0;
			}
			.bottom_left {
				position: absolute;
				bottom: 0;
				left: 0;
			}
			#clock {
				color: #999999;
				background-color: transparent;
			}
			#waitingForBackend {
				background-color: transparent;
				margin: 0 auto;
				padding-top: 4em;
				text-align:center;
				font-family: Consolas !important;
				font-size: 20px;
				display: none;
				z-index: 99;
			}
			// cf. http://stackoverflow.com/a/24993002/1070215
			.hover_img a {
				position:relative;
			}
			.hover_img a span {
				position:absolute;
				bottom:30px;
				right:20px;
				display:none;
				z-index:99;
				width="50%"
				background-color: rgba(255, 255, 255, .5);
			}
			.hover_img:hover a span {
				display:block;
			}
			input[type=range]
			{
				width: 80px;
				padding: 5px 0;
				opacity: .33;
				margin: 5px 5px 5px 5px;
				padding: 5px 5px 5px 5px;
			}
		</style>

	</head>

	<body style="background-color: transparent;">

		<div id="waitingForBackend"	>
			<div id="clock"></div>
		</div>

		<img class="fa-spinner fa-spin" style="width:100%; height:100%; " src="images/spiral.svg"/>

		<i class="fa fa-refresh top_left" title="watch another detail"></i>

		<a href="https://en.wikipedia.org/wiki/The_Garden_of_Earthly_Delights">
			<i class="fa fa-wikipedia-w top_right"				title="go to wikipedia article"></i>
		</a>

		<a href="https://github.com/earthlydelights/earthlydelights.github.io/blob/master/README.md">
			<i class="fa fa-github bottom_right"		title="go to github project"></i>
		</a>

		<input type="range" id="quality" class="fa bottom_left" min="0" max="100">

	</body>

	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.0/imagesloaded.pkgd.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.countdown/2.1.0/jquery.countdown.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.1/moment.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.6/hammer.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
	<script type="text/javascript">

{% if jekyll.environment == "development" %}
	var backend = "http://localhost:8080/geppaequo-web";
	var millisecondsBeforeRetry = 20000;
{% else %}
	var backend = "https://tebaldi051108trial.hanatrial.ondemand.com";
	var millisecondsBeforeRetry = 20000;
{% endif %}
	$(document).ready(function() {
		var showSpinner;
		function displayLoadStart() {
			console.log('load starts', moment().format("h:mm:ss a"));
			$('#clock').html('');
			showSpinner = setTimeout(function () {
				$('.fa-spinner').stop().fadeIn(666);
			}, 333);
		}
		function displayLoadFinish() {
			$('.fa-spinner').stop().fadeOut(111);
			clearTimeout(showSpinner);
			$('.fa').removeClass( "hover" );
			console.log('load finished', moment().format("h:mm:ss a"));
		}

		function callImageLoaded($backgroundHolder, retry) {

			console.log("about to call imagesLoaded", moment().format("h:mm:ss a"));
			$backgroundHolder.imagesLoaded( { background: true, debug: false } )

				.progress( function( instance, image ) {
					var result = image.isLoaded ? 'loaded' : 'broken';
					console.log( 'image is ' + result + ' for ' + image.img.src );
					if (!image.isLoaded && !image.img.src.endsWith("spiral.svg")) {
						if (retry) {
							var nextTentative = moment().add(millisecondsBeforeRetry, 'milliseconds');
							console.log('all images loaded, at least one is broken, will retry @ ' + nextTentative.format("h:mm:ss a"));
							$('#clock').countdown(nextTentative.toDate(), function(ev) {
								$(this).html(ev.strftime('<p>Trying to reach image server</p><p>Retrying in %S seconds &hellip;</p>'));
							}).on('finish.countdown', function(ev) {
								location.reload();
								// retry($backgroundHolder);
							});
							$('#waitingForBackend').show();
						}
					}
				})
				.fail( function() {
						console.log('all images loaded, at least one is broken');
				})
				.done( function( instance ) {
					console.log('all images successfully loaded');
					$('#waitingForBackend').hide();
				})
				.always( function( instance ) {
					displayLoadFinish();
				})
			;
		}

		// cf. https://developer.mozilla.org/en-US/docs/Web/CSS/background IS YOUR FRIEND !!!!
		{

			function loadFullBackground($backgroundHolder) {
				displayLoadStart();

				$backgroundHolder.css({
					background:
						"url(images/bosch-the-garden-of-earthly-delights.jpg" +
						") center center / contain no-repeat fixed black",
				});
				callImageLoaded($backgroundHolder, loadFullBackground);
			}

			function loadCroppedBackground($backgroundHolder) {
				displayLoadStart();

				var width	= $backgroundHolder.width();
				var height	= $backgroundHolder.height();

				$backgroundHolder.css({
					background:
						"url(" + backend +
						"/geppaequo-api/images/v1/crop" +
						"?url=/geppaequo-api/stnemucod/v1/document/images/bosch-the-garden-of-earthly-delights.jpg" +
						"&" + (new Date()).getTime() +
						"&width=" + width +
						"&height=" + height +
						"&quality=" + $('#quality').val() +
						") center center / auto no-repeat fixed black",
				});
				callImageLoaded($backgroundHolder, loadCroppedBackground);
			}
		}

		var loadFullBackgroundThrottled = $.throttle( 666, loadFullBackground);
		var loadCroppedBackgroundThrottled = $.throttle( 666, loadCroppedBackground);

		$( ".fa, input[type=range]" ).hover(
			function() {
				$( ".fa, input[type=range]" ).addClass( "hover" );
			}, function() {
				$( ".fa, input[type=range]" ).removeClass( "hover" );
			}
		);

		var $backgroundHolder = $('body');

		var mc = new Hammer(document.body);

		$(window).keypress(function (ev) {
		  if (ev.keyCode === 0 || ev.keyCode === 32) {
		    ev.preventDefault()
			if ($('.fa-spinner').is(":visible")) {
				console.log("ignored swipe event, spinner is visible");
				return false;
			}
			loadCroppedBackgroundThrottled($backgroundHolder);
		  }
		})
		mc.on("swipe", function(ev) {
			// ev.preventDefault();
			if ($('.fa-spinner').is(":visible")) {
				console.log("ignored swipe event, spinner is visible");
				return false;
			}
			loadCroppedBackgroundThrottled($backgroundHolder);
		})
		.on("tap", function(ev) {
			// ev.preventDefault();
			if ($('.fa-spinner').is(":visible")) {
				console.log("ignored tap event, spinner is visible");
				return false;
			}
			if (!$(ev.target).is('body, .fa-refresh')) {
				console.log("ignored tap event, not on (body or .fa-refresh)");
				return false;
			}
			loadCroppedBackgroundThrottled($backgroundHolder);
		})
			.on("press", function(ev) {
			// ev.preventDefault();
			if ($('.fa-spinner').is(":visible")) {
				console.log("ignored press event, spinner is visible");
				return false;
			}
			if (!$(ev.target).is('body')) {
				console.log("ignored tap event, not on body");
				return false;
			}
			loadFullBackgroundThrottled($backgroundHolder);
		});

		loadCroppedBackground($backgroundHolder);

	});

	</script>

</html>
