<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

	    <!-- BEGIN Open Graph data -->
	    <meta property="og:locale"      content="en_US">
	    <meta property="og:title"       content="The Garden of Earthly Delights" />
	    <meta property="og:type"        content="website" />
	    <meta property="og:url"         content="http://earthlydelights.garden" />
	    <meta property="og:description" content="« The Garden of Earthly Delights is the modern title given to a triptych painted by the Early Netherlandish master Hieronymus Bosch. It has been housed in the Museo del Prado in Madrid since 1939. Dating from between 1490 and 1510, when Bosch was between about 40 and 60 years old, it is his best-known and most ambitious complete work. » https://en.wikipedia.org/wiki/The_Garden_of_Earthly_Delights" />
	    <meta property="og:site_name"   content="earthlydelights" />
	  
	    <meta property="og:image"        content="http://earthlydelights.garden/images/sample_center_bottom-600x340.png" />
	    <meta property="og:image:url"    content="http://earthlydelights.garden/images/sample_center_bottom-600x340.png" />
	    <meta property="og:image:type"   content="image/png" />
	    <meta property="og:image:width"  content="600" />
	    <meta property="og:image:height" content="340" />
	    
	    <meta property="fb:admins" content="708154592"/>
	    <meta property="fb:app_id" content="104250825478" />
	    <!-- END Open Graph data -->

		<title>The Garden of Earthly Delights</title>
		<meta name="description" content="The Garden of Earthly Delights">

		<link rel="canonical" href="http://earthlydelights.garden/">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

		<!-- http://realfavicongenerator.net/ -->
		<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png?v=699bGdpX2B">
		<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png?v=699bGdpX2B">
		<link rel="icon" type="image/png" href="/favicon-32x32.png?v=699bGdpX2B" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-96x96.png?v=699bGdpX2B" sizes="96x96">
		<link rel="icon" type="image/png" href="/favicon-16x16.png?v=699bGdpX2B" sizes="16x16">
		<link rel="manifest" href="/manifest.json?v=699bGdpX2B">
		<link rel="mask-icon" href="/safari-pinned-tab.svg?v=699bGdpX2B" color="#5bbad5">
		<link rel="shortcut icon" href="/favicon.ico?v=699bGdpX2B">
		<meta name="msapplication-TileColor" content="#000000">
		<meta name="theme-color" content="#ffffff">

		<style type="text/css">
			html {
			    height: 100%;
			    background-color: black;
			}		
			body {
				background: url(https://tebaldi051108trial.hanatrial.ondemand.com/geppaequo-api/images/v1/crop?url=/geppaequo-api/stnemucod/v1/document/images/the-garden-of-earthly-delights.jpg) no-repeat center center fixed; 
				-webkit-background-size: cover;
				-moz-background-size: cover;
				-o-background-size: cover;
				background-size: cover;
				font-size: 48px;
				color: white;
				position: relative;
				height: 100%;
				margin: 0;
				padding: 0;
			}

			.fa.fa-refresh.fa-spin,
			.fa.fa-refresh.fa-spin.light {
				background-color: transparent;
			}
			.fa.light {
				color: rgba(255, 255, 255, .3);
				background-color: rgba(0, 0, 0, .3);
			}
			.fa:hover {
				color: rgba(255, 255, 255, .8);
				background-color: rgba(0, 0, 0, .8);
			}
			.fa {
				position: absolute;
				color: rgba(255, 255, 255, 1);
				margin: 5px 5px 5px 5px;
				padding: 5px 5px 5px 5px;
			    cursor: pointer;
			}
			.top_right {
			    top: 0;
			    right: 0;
			}
			.top_left {
			    top: 0;
			    left: 0;
			}
			.bottom_right {
			    bottom: 0;
			    right: 0;
			}
			.bottom_left {
			    bottom: 0;
			    left: 0;
			}
			#waitingForBackend {
			    margin: 0 auto;
			    padding-top: 1em;
			    text-align:center;
				font-family: Consolas !important;
				font-size: 20px; 
				display: none;
			}
		</style>
	</head>

	<body>
		<div id="waitingForBackend" class="top_center"></div>
		<i class="fa fa-refresh fa-spin top_left" title="watch another detail"></i>
		<a href="https://tebaldi051108trial.hanatrial.ondemand.com/geppaequo-api/stnemucod/v1/document/images/the-garden-of-earthly-delights.jpg" title="watch the full painting" target="">
		   <i class="fa fa-file-image-o top_right"></i>
		</a>
		<!--i class="fa fa-copyright bottom_left"></i-->
	</body>

	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<script type="text/javascript">

	$(document).ready(function() {
		$('.fa-refresh').click(function() {
		    location.reload();
		});

		var $waitingForBackend = $('#waitingForBackend');
		var hasFailed = false;

		function pollBackend() {
	        console.log('enter pollBackend');
	        if (hasFailed) {
				$waitingForBackend.text("trying to contact backend ...");
				$('.fa-refresh').addClass("fa-spin");
				$('.fa').removeClass("light");
	        }
		    $.ajax({
		    	url   : 'https://tebaldi051108trial.hanatrial.ondemand.com/favicon.ico',
		    	cache : false,
		        crossDomain: true,
		        method: 'GET',
		    }).done(function(data) {
		       // location.reload();
		       if (hasFailed) {
		       	$('body').css({
		       		background: "url(https://tebaldi051108trial.hanatrial.ondemand.com/geppaequo-api/images/v1/crop?url=/geppaequo-api/stnemucod/v1/document/images/the-garden-of-earthly-delights.jpg) no-repeat center center fixed"
		       	});
				$('.fa-refresh').removeClass("fa-spin");
				$('.fa').addClass("light");
				$waitingForBackend.hide();
		       }
	  		}).fail(function() {
	  			hasFailed = true;
;				$waitingForBackend.show().text("backend is not responding. I will retry in 10 seconds.");
				$('.fa-refresh').removeClass("fa-spin");
				$('.fa').addClass("light");
		        setTimeout(pollBackend,10000);
		        console.log('failed setTimeout');
	  		}).always( function() {
  	            console.log('exit pollBackend');
	  		});
		};

		pollBackend();

	});

	$(window).on("load", function() {
		$('.fa-refresh').removeClass("fa-spin");
		$('.fa').addClass("light");
    });
	</script>

</html>
